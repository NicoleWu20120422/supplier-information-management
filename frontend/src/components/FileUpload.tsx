import React, { useRef, useState } from "react";import { Button, LinearProgress } from "@mui/material";import api from "../api";interface Props {supplierId: string;onSuccess: () => void;}const FileUpload: React.FC<Props> = ({ supplierId, onSuccess }) => {const fileRef = useRef<HTMLInputElement>(null);const [progress, setProgress] = useState<number>(0);const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {if (!e.target.files?.length) return;const file = e.target.files[0];const { data } = await api.post("/documents/sas", {supplierId,fileName: file.name,});await fetch(data.sasUrl, {method: "PUT",headers: { "x-ms-blob-type": "BlockBlob" },body: file,});setProgress(100);onSuccess();};return (<div><input type="file" hidden ref={fileRef} onChange={handleFileChange} accept="*" /><Button onClick={() => fileRef.current?.click()}>Upload Document</Button>{progress > 0 && <LinearProgress variant="determinate" value={progress} />}</div>);};export default FileUpload;